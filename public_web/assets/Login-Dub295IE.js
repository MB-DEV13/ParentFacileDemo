import{r,a as g,j as e}from"./index-DzDZ6tjL.js";import{a as b}from"./adminApi-lilpC9o9.js";function j(){const[d,x]=r.useState(""),[c,f]=r.useState(""),[n,u]=r.useState(""),[o,m]=r.useState(!1),p=g();r.useEffect(()=>{const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,s=document.querySelectorAll(".js-reveal");if(!s.length)return;if(t){s.forEach(a=>a.classList.add("in-view"));return}const i=new IntersectionObserver(a=>{a.forEach(l=>{l.isIntersecting&&(l.target.classList.add("in-view"),i.unobserve(l.target))})},{threshold:.1,rootMargin:"0px 0px -10% 0px"});return s.forEach(a=>i.observe(a)),()=>i.disconnect()},[]);async function h(t){t.preventDefault(),u(""),m(!0);try{await b(d,c),p("/admin",{replace:!0})}catch(s){u(s.message||"Échec de la connexion")}finally{m(!1)}}return e.jsx("main",{role:"main",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pfBlueLight to-pfPink px-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"reveal js-reveal [--delay:80ms] bg-white rounded-2xl shadow-md p-6 transition-shadow hover:shadow-lg",children:[e.jsx("h1",{className:"text-xl font-semibold mb-5 text-center text-slate-800",children:"Connexion administrateur"}),e.jsxs("form",{className:"space-y-4",onSubmit:h,noValidate:!0,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-email",className:"text-sm font-medium text-slate-700",children:"Adresse email"}),e.jsx("input",{id:"admin-email",type:"email",className:"mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-pfBlue focus:border-pfBlue transition-all",value:d,onChange:t=>x(t.target.value),autoComplete:"username",required:!0,"aria-invalid":!!n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-password",className:"text-sm font-medium text-slate-700",children:"Mot de passe"}),e.jsx("input",{id:"admin-password",type:"password",className:"mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-pfBlue focus:border-pfBlue transition-all",value:c,onChange:t=>f(t.target.value),autoComplete:"current-password",required:!0})]}),n&&e.jsx("p",{className:"text-sm text-red-600 text-center bg-red-50 border border-red-200 rounded-lg py-2",role:"alert",children:n}),e.jsx("button",{type:"submit",disabled:o,className:"w-full rounded-xl bg-pfBlue text-white px-4 py-2 text-sm font-medium shadow-sm hover:shadow-md hover:bg-pfBlue/90 transition-all disabled:opacity-60","aria-busy":o,children:o?"Connexion…":"Se connecter"})]})]})})})}export{j as default};
//# sourceMappingURL=Login-Dub295IE.js.map
