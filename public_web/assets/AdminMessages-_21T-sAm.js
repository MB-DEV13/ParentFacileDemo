import{a as c,j as e,L as d}from"./index-DOxqnmET.js";import{u as o}from"./useApi-lbw4-mAd.js";import{h as x,e as m}from"./adminApi-lilpC9o9.js";function f(){const l=c(),{data:i,loading:n,error:t}=o(x,[]),a=i?.messages||[];async function r(){try{await m()}finally{l("/admin/login")}}return e.jsx("main",{className:"py-12 bg-gradient-to-br from-pfBlueLight to-pfPink min-h-screen",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Admin — Messages"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{to:"/admin",className:"rounded-xl px-3 py-1.5 text-sm border border-pfBlue text-pfBlue hover:bg-white transition",children:"← Dashboard"}),e.jsx("button",{onClick:r,className:"rounded-xl px-3 py-1.5 text-sm border border-pfBlue text-pfBlue hover:bg-white transition",children:"Se déconnecter"})]})]}),e.jsxs("section",{className:"bg-white rounded-2xl shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3 text-slate-800",children:"Tous les messages"}),n?e.jsx("p",{className:"text-slate-600",children:"Chargement…"}):t?e.jsx("p",{className:"text-red-600",children:String(t.message||t)}):a.length===0?e.jsx("p",{className:"text-slate-600",children:"Aucun message."}):e.jsx("ul",{className:"space-y-3",children:a.map(s=>e.jsxs("li",{className:"rounded-xl border p-3 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-medium text-slate-900",children:s.subject||"(Sans sujet)"}),e.jsx("div",{className:"text-xs text-slate-500",children:new Date(s.created_at).toLocaleString("fr-FR")})]}),e.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:["De :"," ",e.jsx("a",{href:`mailto:${s.email}`,className:"font-mono underline text-pfBlue hover:opacity-80 transition",children:s.email})]}),e.jsx("p",{className:"text-sm mt-2 whitespace-pre-wrap text-slate-700",children:s.message})]},s.id))})]})]})})}export{f as default};
//# sourceMappingURL=AdminMessages-_21T-sAm.js.map
