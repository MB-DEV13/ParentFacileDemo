const d="".replace(/\/$/,""),f=12e3;function n(e){return e?/^https?:\/\//i.test(e)?e:d?`${d}${e.startsWith("/")?e:`/${e}`}`:e.startsWith("/")?e:`/${e}`:d||""}async function s(e,t={}){const{timeout:o=f,...m}=t,l=new AbortController,u=setTimeout(()=>l.abort(),o);try{const a=await fetch(e,{credentials:"include",headers:{Accept:"application/json",...m.headers||{}},signal:l.signal,...m}),r=(a.headers.get("content-type")||"").includes("application/json"),i=r?await a.json().catch(()=>({})):await a.text();if(!a.ok){const p=r&&(i?.message||i?.error)||typeof i=="string"&&i||`HTTP ${a.status} â€“ ${a.statusText}`,c=new Error(p);throw c.status=a.status,c.payload=r?i:{raw:i},c}return r?i:{raw:i}}finally{clearTimeout(u)}}const h=(e,t)=>s(n("/api/admin/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),T=()=>s(n("/api/admin/auth/logout"),{method:"POST"}),_=()=>s(n("/api/admin/auth/me")),b=()=>s(n("/api/admin/docs")),w=e=>{const t=new FormData;return t.append("label",e.label),t.append("tag",e.tag),t.append("sort_order",String(e.sort_order??999)),t.append("doc_key",e.doc_key),t.append("file",e.file),s(n("/api/admin/docs"),{method:"POST",body:t})},$=e=>s(n(`/api/admin/docs/${encodeURIComponent(e)}`),{method:"DELETE"}),D=(e,t={})=>{const o=new FormData;return t.label!=null&&o.append("label",t.label),t.tag!=null&&o.append("tag",t.tag),t.sort_order!=null&&o.append("sort_order",String(t.sort_order)),t.doc_key!=null&&o.append("doc_key",t.doc_key),t.file&&o.append("file",t.file),s(n(`/api/admin/docs/${encodeURIComponent(e)}`),{method:"PUT",body:o})},A=(e=3)=>s(n(`/api/admin/messages?limit=${encodeURIComponent(e)}`)),U=()=>s(n("/api/admin/messages/all"));export{h as a,b,w as c,$ as d,T as e,A as f,D as g,U as h,_ as i};
//# sourceMappingURL=adminApi-lilpC9o9.js.map
