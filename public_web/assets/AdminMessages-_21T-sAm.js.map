{"version":3,"file":"AdminMessages-_21T-sAm.js","sources":["../../src/pages/admin/AdminMessages.jsx"],"sourcesContent":["// src/pages/admin/Messages.jsx\r\n/**\r\n * Page : Admin — Messages (sans animations)\r\n * -------------------------------------------------\r\n * - Data via useApi(fetchAllAdminMessages)\r\n * - Bouton logout\r\n * - Pas de reveal / IO / delays\r\n */\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport useApi from \"../../hooks/useApi\";\r\nimport { fetchAllAdminMessages, adminLogout } from \"../../services/adminApi\";\r\n\r\nexport default function AdminMessages() {\r\n  const navigate = useNavigate();\r\n  const { data, loading, error } = useApi(fetchAllAdminMessages, []);\r\n  const list = data?.messages || [];\r\n\r\n  async function onLogout() {\r\n    try {\r\n      await adminLogout();\r\n    } finally {\r\n      navigate(\"/admin/login\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"py-12 bg-gradient-to-br from-pfBlueLight to-pfPink min-h-screen\">\r\n      <div className=\"max-w-5xl mx-auto px-4\">\r\n        {/* Header (sans reveal) */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-slate-800\">\r\n            Admin — Messages\r\n          </h1>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <Link\r\n              to=\"/admin\"\r\n              className=\"rounded-xl px-3 py-1.5 text-sm border border-pfBlue text-pfBlue hover:bg-white transition\"\r\n            >\r\n              ← Dashboard\r\n            </Link>\r\n            <button\r\n              onClick={onLogout}\r\n              className=\"rounded-xl px-3 py-1.5 text-sm border border-pfBlue text-pfBlue hover:bg-white transition\"\r\n            >\r\n              Se déconnecter\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Liste simple, aucune animation */}\r\n        <section className=\"bg-white rounded-2xl shadow p-6\">\r\n          <h2 className=\"text-lg font-semibold mb-3 text-slate-800\">\r\n            Tous les messages\r\n          </h2>\r\n\r\n          {loading ? (\r\n            <p className=\"text-slate-600\">Chargement…</p>\r\n          ) : error ? (\r\n            <p className=\"text-red-600\">{String(error.message || error)}</p>\r\n          ) : list.length === 0 ? (\r\n            <p className=\"text-slate-600\">Aucun message.</p>\r\n          ) : (\r\n            <ul className=\"space-y-3\">\r\n              {list.map((m) => (\r\n                <li\r\n                  key={m.id}\r\n                  className=\"rounded-xl border p-3 bg-slate-50\"\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"font-medium text-slate-900\">\r\n                      {m.subject || \"(Sans sujet)\"}\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-500\">\r\n                      {new Date(m.created_at).toLocaleString(\"fr-FR\")}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"text-xs text-slate-600 mt-1\">\r\n                    De :{\" \"}\r\n                    <a\r\n                      href={`mailto:${m.email}`}\r\n                      className=\"font-mono underline text-pfBlue hover:opacity-80 transition\"\r\n                    >\r\n                      {m.email}\r\n                    </a>\r\n                  </div>\r\n\r\n                  <p className=\"text-sm mt-2 whitespace-pre-wrap text-slate-700\">\r\n                    {m.message}\r\n                  </p>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["AdminMessages","navigate","useNavigate","data","loading","error","useApi","fetchAllAdminMessages","list","onLogout","adminLogout","jsxs","jsx","Link","m"],"mappings":"iJAaA,SAAwBA,GAAgB,CACtC,MAAMC,EAAWC,EAAA,EACX,CAAE,KAAAC,EAAM,QAAAC,EAAS,MAAAC,CAAA,EAAUC,EAAOC,EAAuB,EAAE,EAC3DC,EAAOL,GAAM,UAAY,CAAA,EAE/B,eAAeM,GAAW,CACxB,GAAI,CACF,MAAMC,EAAA,CACR,QAAA,CACET,EAAS,cAAc,CACzB,CACF,CAEA,aACG,OAAA,CAAK,UAAU,kEACd,SAAAU,EAAAA,KAAC,MAAA,CAAI,UAAU,yBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,gDAAgD,SAAA,mBAE9D,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,GAAG,SACH,UAAU,4FACX,SAAA,aAAA,CAAA,EAGDD,EAAAA,IAAC,SAAA,CACC,QAASH,EACT,UAAU,4FACX,SAAA,gBAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,EAGAE,EAAAA,KAAC,UAAA,CAAQ,UAAU,kCACjB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,4CAA4C,SAAA,oBAE1D,EAECR,EACCQ,EAAAA,IAAC,IAAA,CAAE,UAAU,iBAAiB,SAAA,aAAA,CAAW,EACvCP,EACFO,EAAAA,IAAC,KAAE,UAAU,eAAgB,SAAA,OAAOP,EAAM,SAAWA,CAAK,CAAA,CAAE,EAC1DG,EAAK,SAAW,EAClBI,MAAC,IAAA,CAAE,UAAU,iBAAiB,SAAA,gBAAA,CAAc,EAE5CA,EAAAA,IAAC,MAAG,UAAU,YACX,SAAAJ,EAAK,IAAKM,GACTH,EAAAA,KAAC,KAAA,CAEC,UAAU,oCAEV,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,6BACZ,SAAAE,EAAE,SAAW,eAChB,EACAF,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACZ,SAAA,IAAI,KAAKE,EAAE,UAAU,EAAE,eAAe,OAAO,CAAA,CAChD,CAAA,EACF,EAEAH,EAAAA,KAAC,MAAA,CAAI,UAAU,8BAA8B,SAAA,CAAA,OACtC,IACLC,EAAAA,IAAC,IAAA,CACC,KAAM,UAAUE,EAAE,KAAK,GACvB,UAAU,8DAET,SAAAA,EAAE,KAAA,CAAA,CACL,EACF,EAEAF,EAAAA,IAAC,IAAA,CAAE,UAAU,kDACV,WAAE,OAAA,CACL,CAAA,CAAA,EAxBKE,EAAE,EAAA,CA0BV,CAAA,CACH,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}